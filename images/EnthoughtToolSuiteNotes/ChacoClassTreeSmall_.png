<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel='shortcut icon' href='/images/favicon.ico'>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2541099-1";
urchinTracker();
</script>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="robots" content="noindex,nofollow">

<title>EnthoughtToolSuiteNotes - </title>
<script type="text/javascript" src="/wiki//common/js/common.js"></script>

<script type="text/javascript">
<!--// common functions

// We keep here the state of the search box
searchIsDisabled = false;

function searchChange(e) {
    // Update search buttons status according to search box content.
    // Ignore empty or whitespace search term.
    var value = e.value.replace(/\s+/, '');
    if (value == '' || searchIsDisabled) { 
        searchSetDisabled(true);
    } else {
        searchSetDisabled(false);
    }
}

function searchSetDisabled(flag) {
    // Enable or disable search
    document.getElementById('fullsearch').disabled = flag;
    document.getElementById('titlesearch').disabled = flag;
}

function searchFocus(e) {
    // Update search input content on focus
    if (e.value == 'Search') {
        e.value = '';
        e.className = '';
        searchIsDisabled = false;
    }
}

function searchBlur(e) {
    // Update search input content on blur
    if (e.value == '') {
        e.value = 'Search';
        e.className = 'disabled';
        searchIsDisabled = true;
    }
}

function actionsMenuInit(title) {
    // Initialize action menu
    for (i = 0; i < document.forms.length; i++) {
        var form = document.forms[i];
        if (form.className == 'actionsmenu') {
            // Check if this form needs update
            var div = form.getElementsByTagName('div')[0];
            var label = div.getElementsByTagName('label')[0];
            if (label) {
                // This is the first time: remove label and do buton.
                div.removeChild(label);
                var dobutton = div.getElementsByTagName('input')[0];
                div.removeChild(dobutton);
                // and add menu title
                var select = div.getElementsByTagName('select')[0];
                var item = document.createElement('option');
                item.appendChild(document.createTextNode(title));
                item.value = 'show';
                select.insertBefore(item, select.options[0]);
                select.selectedIndex = 0;
            }
        }
    }
}
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/wiki//sinorca4moin/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="/wiki//sinorca4moin/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="/wiki//sinorca4moin/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="/wiki//sinorca4moin/css/projection.css">
<link rel="alternate" title=" Recent Changes" href="/RecentChanges?action=rss_rc&amp;ddiffs=1&amp;unique=1" type="application/rss+xml">

<link rel="Start" href="/SciPy">
<link rel="Alternate" title="Wiki Markup" href="/EnthoughtToolSuiteNotes?action=raw">
<link rel="Alternate" media="print" title="Print View" href="/EnthoughtToolSuiteNotes?action=print">
<link rel="Appendix" title="ChacoClassTree.png" href="/EnthoughtToolSuiteNotes?action=AttachFile&amp;do=view&amp;target=ChacoClassTree.png">
<link rel="Appendix" title="ChacoClassTree.svg" href="/EnthoughtToolSuiteNotes?action=AttachFile&amp;do=view&amp;target=ChacoClassTree.svg">
<link rel="Appendix" title="ChacoClassTreeSmall.png" href="/EnthoughtToolSuiteNotes?action=AttachFile&amp;do=view&amp;target=ChacoClassTreeSmall.png">
<link rel="Appendix" title="ChacoPlotRelationships.odg" href="/EnthoughtToolSuiteNotes?action=AttachFile&amp;do=view&amp;target=ChacoPlotRelationships.odg">
<link rel="Appendix" title="ChacoPlotRelationships.png" href="/EnthoughtToolSuiteNotes?action=AttachFile&amp;do=view&amp;target=ChacoPlotRelationships.png">
<link rel="Appendix" title="ChacoStructure.odg" href="/EnthoughtToolSuiteNotes?action=AttachFile&amp;do=view&amp;target=ChacoStructure.odg">
<link rel="Search" href="/FindPage">
<link rel="Index" href="/TitleIndex">
<link rel="Glossary" href="/WordIndex">
<link rel="Help" href="/HelpOnFormatting">
</head>

<body  lang="en" dir="ltr">
<div id="header">
<div class="superHeader">
  <div class="right">
<ul id="username"><li><a href="/EnthoughtToolSuiteNotes?action=login" id="login">Login</a></li></ul>
  </div>
</div>

<form id="searchform" method="get" action="">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<div class="midHeader">
<div id="locationline">
<div id="logo"><a href="/SciPy"><img src="/images/scipylogo.gif" alt="SciPy.org - Home"></a></div>
<a href="/SciPy"></a>
</div>
</div>
<div class="subHeader">

</div>

</div>
<div id="sidebar">
<div class="sidepanel">
<h1>Wiki</h1>

<ul id="navibar">
<li class="wikilink"><a href="http://docs.scipy.org">Documentation</a></li><li class="wikilink"><a href="/Mailing_Lists">Mailing Lists</a></li><li class="wikilink"><a href="/Download">Download</a></li><li class="wikilink"><a href="/Installing_SciPy">Installing SciPy</a></li><li class="wikilink"><a href="/Topical_Software">Topical Software</a></li><li class="wikilink"><a href="/Cookbook">Cookbook</a></li><li class="wikilink"><a href="/Developer_Zone">Developer Zone</a></li><li class="wikilink"><a href="http://planet.scipy.org">Blogs</a></li><li class="wikilink"><a href="http://conference.scipy.org">Conference</a></li><li class="current"><a href="/EnthoughtToolSuiteNotes">EnthoughtToolSuiteNotes</a></li>
</ul>

</div>
<div class="sidepanel">
<h1>Page</h1>
<ul class="editbar"><li><span class="disabled">Immutable Page</span></li><li><a href="/EnthoughtToolSuiteNotes?action=info">Info</a></li><li><a href="/EnthoughtToolSuiteNotes?action=AttachFile">Attachments</a></li><li>
<form class="actionsmenu" method="get" action="">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled class="disabled">------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled class="disabled">------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------</option>
<option value="MyPages">My Pages</option>
<option value="SubscribeUser">Subscribe User</option>
<option value="show" disabled class="disabled">------------</option>
<option value="Despam">Remove Spam</option>
<option value="PackagePages">Package Pages</option>
    </select>
    <input type="submit" value="Do">
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>

</div>
<div id="message">
<p>Attachment 'ChacoClassTreeSmall_.png' does not exist!</p>
<div class="buttons"><a href="/EnthoughtToolSuiteNotes?action=show">Clear message</a></div>

</div>

<div id="page" lang="en" dir="ltr">

<ul id="iconbar">
<li><a href="/EnthoughtToolSuiteNotes?action=edit"><img alt="Edit" height="12" src="/wiki//sinorca4moin/img/moin-edit.png" title="Edit" width="12" /></a></li>
<li><a href="/EnthoughtToolSuiteNotes"><img alt="View" height="13" src="/wiki//sinorca4moin/img/moin-show.png" title="View" width="12" /></a></li>
<li><a href="/EnthoughtToolSuiteNotes?action=diff"><img alt="Diffs" height="11" src="/wiki//sinorca4moin/img/moin-diff.png" title="Diffs" width="15" /></a></li>
<li><a href="/EnthoughtToolSuiteNotes?action=info"><img alt="Info" height="11" src="/wiki//sinorca4moin/img/moin-info.png" title="Info" width="12" /></a></li>
<li><a href="/EnthoughtToolSuiteNotes?action=subscribe"><img alt="Subscribe" height="10" src="/wiki//sinorca4moin/img/moin-subscribe.png" title="Subscribe" width="14" /></a></li>
<li><a href="/EnthoughtToolSuiteNotes?action=raw"><img alt="Raw" height="13" src="/wiki//sinorca4moin/img/moin-raw.png" title="Raw" width="12" /></a></li>
<li><a href="/EnthoughtToolSuiteNotes?action=print"><img alt="Print" height="14" src="/wiki//sinorca4moin/img/moin-print.png" title="Print" width="16" /></a></li>
</ul>


<ul id="pagelocation">
<a class="backlink" title="Click to do a full-text search for this title" href="/EnthoughtToolSuiteNotes?action=fullsearch&amp;value=linkto%3A%22EnthoughtToolSuiteNotes%22&amp;context=180">EnthoughtToolSuiteNotes</a>
</ul>
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867">
<h1 id="head-6d3f7b4579ebb969ded550607eae251fa29af517">Getting into ETS: A Newbies Experience</h1>
<span class="anchor" id="line-2"></span><p class="line862">I'm keeping a personal ETS "actions list" at <a href="/ETSToDoList">ETSToDoList</a>. <span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><p class="line867">
<h2 id="head-5347e764c2f1486b4e41142167efa64caa8100ee">A note on my point-of-view</h2>
<span class="anchor" id="line-5"></span><p class="line874">I've just starting working with the Enthought Tool Suite (ETS), after a number of years experience of working with Python/numpy/matplotlib/scipy as a tool for scientific data analysis. I am used to building data acquisition applications with wxPython, VTK and the in-house libraries developed at my workplace. ETS is a real revelation and I'm really enjoying learning it. Here are some notes on my experiences on learning and using it "in anger". <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><p class="line867">
<h2 id="head-2f2e50553e2f4a9a476e73ed79df69faa308cfb8">enthought namespace</h2>
<span class="anchor" id="line-8"></span><p class="line874">The large and fine-grained enthought namespace is quite off-putting. What do all these components do? Few of them have any documentation. Installing everything as eggs means that stuff which sits in the same python namespace may, in fact, be in a quite different part of the filesystem tree. For example, where can I find enthought.traits.ui.editors.py ? Is it in the traits egg or is it in the traits.ui egg? Maybe it's in both, but having to hunt around all the eggs to find stuff is not nice. <span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><p class="line874">(p.s. I found it in the end) <span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><p class="line874">A further problem with the egg installation is that is doesn't play nicely with code-completion in eclipse/pydev. After some playing around with project paths etc. I got it to partially work but it doesn't seem to reliable. For a large library, code-completion is a huge productivity boost and I'm really missing it. Instead, I keep an IPython window open with just about everything imported just so I can probe the namespaces and pop up doc-strings. Oh how I wish for eclipse-integration... <span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><p class="line867">
<h2 id="head-0d416bcd3dcecd8207021f02a2a3fcc6efde24d0">Traits / TraitsUI</h2>
<span class="anchor" id="line-15"></span><p class="line874">The Traits documentation is not too bad. There's enough to get going. Here's some of the quirks I ran into <span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><ul><li>Just about the first thing I tried with Traits/TraitsUI was to subclass a trait-object to give it a different default editor. I soon discovered this is not possible (you need to use the Trait factory function). Not being able to subclass to add/change functionality is quite jarring to the seasoned python programmer. However, it seems this will be addressed with the upcoming Traits-3 release. <span class="anchor" id="line-18"></span></li><li>Pickling traited objects. I spent some time wondering why I couldn't pickle traited object before discovering that this is a peculiarity of IPython. Pickling traited objects works fine, just not within the ipython shell (is this issue known?). <span class="anchor" id="line-19"></span></li><li><p class="line862">The default editor for Array traits is a grid of text-control widgets. The first time I tried configure_traits() on an object with some arrays in it, my PC locked up for 20 minutes while wxPython tried to render 4096 text-controls! This is a poor choice of defult editor for arrays. A new scientific users is quite likely want to view/edit arrays and it's quite likely these arrays may bve big. Thus, the default editor should handle this gracefully. I'd like to see an <a class="nonexistent" href="/ArrayEditor">ArrayEditor</a> based on a "virtual" wxGrid control, which has a default maximum size of say 10 rows and ~4 cols (so as not to hog the entire display). The <a class="nonexistent" href="/ArrayEditor">ArrayEditor</a> should obviously be a scrolled window so all parts of the array can be accessed. To handle arrays with dimensions&gt;2, there shouls be a control bar where the user can select which 2D slices of a N&gt;2 dims array to display. The columns should be labeled by index number, like the rows. <span class="anchor" id="line-20"></span></li></ul><p class="line867">
<h3 id="head-1410bf4dcaeb7f095666ecca844719dc61191cf9">PlotItems</h3>
<span class="anchor" id="line-21"></span><p class="line874">The MVC concept for building applications is a fantastic one for on-the-fly scientific data analysis and particularly so for interactive anaylsis. My experience of promoting python for data analysis is that people can get the hang of writing simple linear scripts to process their data. Matplotlib does an excellent job of making plotting simple and provides excellent output quality. However, when users want to do more interactive analysis, they get scared off at the prospect of learning a GUI-toolkit like wxPython. At this point, they just give up and install Matlab or Labview or Origin or even Excell, where the documentation is good and the sales reps are happy to show you how things work (dealer analogy here...). <span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><p class="line874">Traits/TraitsUI could change this. It lets the user focus on their Model (the data and equations they are working with) without having to worry about the user-interface. You define your model, and them an interactive GUI is created automagically! Instant gratification. <span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><p class="line862">The key feature is to give the user a brain-dead simple way of visualising their data. In the context of Traits MVC architecture, this means having a set of ready-to-go Plot<tt class="backtick"></tt>Items which can be dropped into View definitions to get a plot based on one or more data-arrays. The Chaco2<tt class="backtick"></tt>Plot<tt class="backtick"></tt>Item is the only thing available out-the-box and is (frankly) a bit crap. It provides a basic level of zooming and panning but nothing else. Here's what I think is required of a universal plot component: <span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><ul><li><p class="line862">For line- or scatter plots, the <a class="nonexistent" href="/PlotItem">PlotItem</a> constructor should take a seris of tuples as it's input (+keyword args). The first two components of the tuple give the names of the x-data and y-data traits to use and the third (optional) component should be a format string (like matplab/matplotlib) specifying the format of the plot (line-type, marker-type etc.). The forth (optional) component should give the data series label. <span class="anchor" id="line-28"></span></li><li><p class="line862">The Plot<tt class="backtick"></tt>Editor should provide a control toolbar with buttons to save the figure. Save formats should include bitmap and vector output formats. Where bitmap output is chosen, a magnification factor of at least 2x should automatically be used such that the results are print-quality. SVG output would be useful: it's quite common to want to add annotations or otherwise edit figures afterwards. This is tricky with PDF, but easy with SVG. <span class="anchor" id="line-29"></span></li><li>The control bar should provide a button to pop up a configuration dialog for the plot. This should, at a minimum, allow the user to enter the plot title and the axis labels. Selecting the fonts and fontsizes would be nice. This recognises that we scientists think about our data first and foremost and things like formatting tend to occur to us after-the-fact. It gets me every time I write a matplotlib script, I run the script, tweak the zoom/pan levels to get the view of my data I want, and *only then* realise I've forgotten to set the title and axis labels of the plot, so I must kill the program, edit my script and re-run it. I want see my data first, *then* tweak the format and save the output. <span class="anchor" id="line-30"></span></li><li>Automatic storing of plot formatting traits. The user should not have to worry about plot formatting in their python script. Thus, when the application is run, the user can tweak the formatting (labels, annotations fonts etc) using the GUI. However, once the format is set, the user should not have to re-create it every time the program is run. The program should automagically pickle and save the plot state and attempt to re-load this on the next run. <span class="anchor" id="line-31"></span></li><li><p class="line862">A comprehensive set of Plot<tt class="backtick"></tt>Item classes to cover the common types of plot: Line/Scaller plots, colormap/contour plots, bar-charts, surface plots (3D) etc. (and probably many more but these are what I use on a regular basis). <span class="anchor" id="line-32"></span></li><li><p class="line862">Cursor support. This one is a bit domain specific, but I want a draggable plot cursor widget which the user can use to select a point on a line graph or a point on an image. The chaco Range<tt class="backtick"></tt>Select tools is quite close to this, but I need to select a point rather than a range. <span class="anchor" id="line-33"></span></li></ul><p class="line862">Note, I recognise that chaco is capable of alot more than a set of Plot<tt class="backtick"></tt>Items could provide. My point is that Plot<tt class="backtick"></tt>Items provide a really easy-to-understand method of deploying chaco/Traits. <span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><p class="line867">
<h3 id="head-565348ba139389ebc217975e8f759878c0bbd112">Traits 3</h3>
<span class="anchor" id="line-36"></span><p class="line874">It looks like Traits-3 will address a number of weaknesses in the current traits-2 implementation. I struggled to get traits-3 installed: there's no install docs. In the end <span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><p class="line867">
<h3 id="head-38cf36d022af9c75716178bc750d6193fa47d5b3">VET and TraitsUI demo</h3>
<span class="anchor" id="line-39"></span><p class="line874">The TraitsUI demo is really great. It's clearly inspired by the wxPython one and is a great way to show off the GUI features of traitsui to new users. This deserves to have an Application Menu entry so users can find it easily. <span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><p class="line862">VET, the View Editing Tool, also has the potential to be a big hit with non-programmer users. The fact is people like to edit graphical things graphically. Integration with the aforementioned library of Plot<tt class="backtick"></tt>Items would be great for the scientist-user. The key thing is providing a visual "palette" of tools the user can select from to achieve their goal. I couldn't figure out what all the windows in the VET application did, so some documentation would be helpful. <span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span><p class="line874">Both of these applications are a little rudimentary so, although they have huge potential, they could use some polish. <span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span><p class="line867">
<h2 id="head-fd27a1c0205a80800ffd0cb035a4d531a255ca6e">Chaco</h2>
<span class="anchor" id="line-46"></span><p class="line874">In the language of chaco, the "X-data" (as I would call it) is refered to as the "index" data. The "Y-data" are the "values". The architecture of chaco is quite different from matplotlib but, after a couple of days working with it, I think I prefer it. It's certainly more flexible and easier to work with internally. <span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><p class="line867">
<h3 id="head-975e7c3b95ad6d1d37dc283d3f814fa87a81080b">Class Inheritance Diagram</h3>
<span class="anchor" id="line-49"></span><p class="line874">Here's a class tree for the Chaco API: <span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><p class="line867"><img class="attachment" src="/EnthoughtToolSuiteNotes?action=AttachFile&amp;do=get&amp;target=ChacoClassTreeSmall.png" title="attachment:ChacoClassTreeSmall.png" /> <span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><p class="line874">The anatomy of a chaco plot comprises the following: <span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><ul><li><p class="line891"><a class="nonexistent" href="/PlotRenderers">PlotRenderers</a> - these are the actual plot/points/image plotted on the screen <span class="anchor" id="line-56"></span></li><li><p class="line891"><a class="nonexistent" href="/PlotContainers">PlotContainers</a> - These layout <a class="nonexistent" href="/PlotRenders">PlotRenders</a> spatially <span class="anchor" id="line-57"></span></li><li>Mappers - these map data coorinates to screen coordinates, based on ... <span class="anchor" id="line-58"></span></li><li>Ranges - define the bounds of the data coordinates to display (i.e. xaxis range, yaxis range etc.) <span class="anchor" id="line-59"></span></li><li>Overlays - these are all the other visual components of a plot, like axes, grids, labels etc. <span class="anchor" id="line-60"></span></li><li><p class="line891"><a class="nonexistent" href="/DataSources">DataSources</a> - these are the "plot pipeline" entry point for the input data. <span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span></li></ul><p class="line874">For example, a simple line plot has the following structure (internally). <span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><p class="line867"><img class="attachment" src="/EnthoughtToolSuiteNotes?action=AttachFile&amp;do=get&amp;target=ChacoPlotRelationships.png" title="attachment:ChacoPlotRelationships.png" /> <span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><p class="line867">
<h3 id="head-a9bfcd804a825ff0e0ef1aab810a1f3197c435fa">PlotRenderers</h3>
<span class="anchor" id="line-67"></span><p class="line862">Plot<tt class="backtick"></tt>Renderers (subclasses of Abstract<tt class="backtick"></tt>Plot<tt class="backtick"></tt>Renderer) are the object that closest resembles the "core" item in a plot. It is the visual representation of your data on the screen. E.g. for a line-plot, the line is drawn by a Line<tt class="backtick"></tt>Plot instance. Similarly, the bars of a barchart are drawn by a Bar<tt class="backtick"></tt>Plot instance. <span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><p class="line862">Note, however, there is a one-to-one relationship between a plot item (line, bar etc.) and Plot<tt class="backtick"></tt>Renderer object. If you want multiple lines/series on your chart, you need one Plot<tt class="backtick"></tt>Renderer per series. For multiline plots, the Plot<tt class="backtick"></tt>Renderer instances are contained by a Plot<tt class="backtick"></tt>Container object. In the case of a multiline plot, this would probably be an Overlay<tt class="backtick"></tt>Plot<tt class="backtick"></tt>Container, which, as it's name suggests, draws all it's contained components on top of each other. <span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><p class="line862">Note also, that a bare <a class="nonexistent" href="/PlotRenderer">PlotRenderer</a> does not include any axes or grids or any other annotation. These are handled by other objects. (Plot<tt class="backtick"></tt>Axis and Plot<tt class="backtick"></tt>Grid objects, appropriately enough) <span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><p class="line867">
<h3 id="head-b57021904bf3966d47347dde65267b23c3cc931b">PlotContainer</h3>
<span class="anchor" id="line-74"></span><p class="line862">These are container objects used to layout Plot<tt class="backtick"></tt>Renderers or other Plot<tt class="backtick"></tt>Containers (any subclass of Plot<tt class="backtick"></tt>Component in fact), using a box-model. As menioned above, the Overlay<tt class="backtick"></tt>Plot<tt class="backtick"></tt>Container is used for multiline plots. Plots can be laid side-by-side using Stacked<tt class="backtick"></tt>Plot<tt class="backtick"></tt>Container or in a grid using Grid<tt class="backtick"></tt>Plot<tt class="backtick"></tt>Container etc. <span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><p class="line867">
<h3 id="head-64a26ab04384079bde6badb00cba1950a4083f32">DataSources</h3>
<span class="anchor" id="line-77"></span><p class="line862">The DataSources (i.e. subclasses of AbstractDataSource) are how your data gets into the chaco "plotting pipeline" (clear inspiration from VTK evident in this aspect of the architecture). Which DataSource you use depends on your data type (1D arrays, multi-dimensional arrays, points or grids). You can usually create the DataSources from some numpy arrays. If you give the DataSource a different array, the object notifies the other parts of the chaco pipeline and your plot updates accordingly. Other than that, DataSources don't do much. <span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><p class="line867">
<h3 id="head-aa248867b12d27279bbbde69b7795607d642f579">DataRanges</h3>
<span class="anchor" id="line-80"></span><p class="line862">These define the visual extent of the source data to be plotted. I.e. these represent the axis ranges. Thus, to change the scales on your plot, you need to access/edit the Range objects. These usually a Range object for each index and value object respectively. Note, however, that <a class="nonexistent" href="/PlotComponents">PlotComponents</a> can share Ranges. <span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><p class="line867">
<h3 id="head-7130340d2f4430ecfb12a365e2bca72fce071ca2">Mappers</h3>
<span class="anchor" id="line-83"></span><p class="line862">The Mappers (subclasses of Abstract<tt class="backtick"></tt>Mapper) do the actual mapping from the data coordinates into screen coordinates for display. The mappers take their input from the Data<tt class="backtick"></tt>Range objects (which tell them want range to display). As well as mapping the Plot<tt class="backtick"></tt>Renderers, the mappers are also shared by things like the axes and grids (anything which requires appropriate scaling from data coords to screen coords). <span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><p class="line867">
<h3 id="head-6cf13abad89cf850c0c41f9edd034b92809f45d2">Overlays</h3>
<span class="anchor" id="line-86"></span><p class="line862">The Overlays (subclasses of Abstract<tt class="backtick"></tt>Overlay) are all other visual (i.e. drawn) items on the plot. These include the axis lines, labels, ticks, ticklabels and grids. These also include annotations like data labels (arrows and text labels etc.). <span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><p class="line867">
<h3 id="head-bce313fa8831512ed7c027531c4f09e5938ce20e">Interactors/Tools</h3>
<span class="anchor" id="line-89"></span><p class="line862">Interactivity is provided by means of "Tools". These are subclasses of Base<tt class="backtick"></tt>Tool. Many predefined tools are provided to provid things like panning, zooming, data-selection etc. <span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><p class="line867">
<h3 id="head-34df040686120953f61ee70f2586eb6b3161fb4f">Integrating Chaco into a wxPython Application</h3>
<span class="anchor" id="line-92"></span><p class="line874">To get a plotting widget into a wxPython application, you need a Window object from the Enable library e.g. <span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><p class="line874">Here's a minimal chaco app. It's doesn't do much (no pan/zoom), no axes, grid, colors etc. <span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><p class="line867"><span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c))
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        s.className = 'LineNumber'
        s.appendChild(document.createTextNode(nformat(n,4,' ')));
        n += nstep;
        if (l.childNodes.length)
          l.insertBefore(s, l.firstChild)
        else
          l.appendChild(s)
      }
      l = l.nextSibling;
    }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c))
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-6a780d40de019013e533d628b3610bd46d566ad2_000\', 1, 1);" \
                class="codenumbers">行番号表示/非表示切替<\/a>');
</script>
<pre dir="ltr" id="CA-6a780d40de019013e533d628b3610bd46d566ad2_000" lang="en"><span class="line"><span class="LineNumber">   1 </span><span class="ResWord">import</span> <span class="ID">wx</span></span>
<span class="line"><span class="LineNumber">   2 </span><span class="ResWord">import</span> <span class="ID">numpy</span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="ResWord">from</span> <span class="ID">enthought</span><span class="Operator">.</span><span class="ID">enable2</span><span class="Operator">.</span><span class="ID">wx_backend</span><span class="Operator">.</span><span class="ID">api</span> <span class="ResWord">import</span> <span class="ID">Window</span></span>
<span class="line"><span class="LineNumber">   4 </span><span class="ResWord">from</span> <span class="ResWord">from</span> <span class="ID">enthought</span><span class="Operator">.</span><span class="ID">chaco2</span><span class="Operator">.</span><span class="ID">api</span> <span class="ResWord">import</span> <span class="ID">create_line_plot</span></span>
<span class="line"><span class="LineNumber">   5 </span><span class="ID">app</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">App</span><span class="Operator">(</span><span class="Number">0</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   6 </span><span class="ID">f</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">(</span><span class="ID">None</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"hello from chaco"</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   7 </span><span class="ID">x</span> <span class="Operator">=</span> <span class="ID">numpy</span><span class="Operator">.</span><span class="ID">linspace</span><span class="Operator">(</span><span class="Operator">-</span><span class="Number">10</span><span class="Operator">,</span><span class="Number">10</span><span class="Operator">,</span><span class="Number">512</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span><span class="ID">y</span> <span class="Operator">=</span> <span class="ID">numpy</span><span class="Operator">.</span><span class="ID">cos</span><span class="Operator">(</span><span class="ID">x</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   9 </span><span class="ID">plot</span> <span class="Operator">=</span> <span class="ID">create_line_plot</span><span class="Operator">(</span><span class="Operator">(</span><span class="ID">x</span><span class="Operator">,</span><span class="ID">y</span><span class="Operator">)</span><span class="Operator">,</span><span class="ID">add_axis</span><span class="Operator">=</span><span class="ID">True</span><span class="Operator">,</span><span class="ID">add_grid</span><span class="Operator">=</span><span class="ID">True</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  10 </span><span class="ID">w</span> <span class="Operator">=</span> <span class="ID">Window</span><span class="Operator">(</span><span class="ID">f</span><span class="Operator">,</span> <span class="ID">component</span><span class="Operator">=</span><span class="ID">plot</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  11 </span><span class="ID">s</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Sizer</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">VERTICAL</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  12 </span><span class="ID">s</span><span class="Operator">.</span><span class="ID">Add</span><span class="Operator">(</span><span class="ID">w</span><span class="Operator">.</span><span class="ID">control</span><span class="Operator">,</span><span class="Number">1</span><span class="Operator">,</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">EXPAND</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  13 </span><span class="ID">f</span><span class="Operator">.</span><span class="ID">SetSizer</span><span class="Operator">(</span><span class="ID">s</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  14 </span><span class="ID">f</span><span class="Operator">.</span><span class="ID">Show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span><span class="ID">app</span><span class="Operator">.</span><span class="ID">MainLoop</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"></span></span>
</pre></div><span class="anchor" id="line-114"></span><p class="line874">Like elsewhere in ETS, wherever a traited object represents a GUI-toolkit widget, the actual gui widget is accessed as the .control attribute (well, Trait actually) of the object. <span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span><p class="line867">
<h3 id="head-ac96a653aa5b9680c4586bd08345ce97a7bdbc1a">Putting It All Together</h3>
<span class="anchor" id="line-117"></span><p class="line867">
<h2 id="head-a1b1c96cf45adfab8f9b9f4fec4b46c2a5237d66">TVTK</h2>
<span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span><p class="line874">TVTK has without question cause me the most pain so far. At least part of the problem is that I'm already a regular VTK user, so the subtle renaming of the API requires a mental re-alignment. The good part about TVTK is the ease with which you can pop up a traits-editor to tweak the properties of an object. The downside is a greater disconnect between the tvtk-API and the standard D'Oxygen API docs. Although the standard docs are for C++, the python interface is almost identical and everything has doc-strings which are easy to call up in eclipse or ipython. With TVTK, code-completion is mostly broken in eclipse (see comments on the enthought egg-namespace above). With a library the size of VTK, code-completion is just about essential to avoid constantly refering to the html-docs. TVTK converts all the VTK object Getters and Setters into python properties. This is certainly more puthonic. This problem is, you can view a doc-string on a property. <span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><p class="line874">This documentation problem might be mitigated if TVTK has some traits-aware auto-generated API documentation which would be a substitute for the standard VTK docs. However, this doesn't exist at present; only the core TVTK stuff is included in the endo-docs, presumably because the entire TVTK API is auto-generated at build-time. <span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><p class="line867">
<h3 id="head-86d764e04c13cb831fd88818a777c62b24ac7eae">Integrating a TVTK Scene into a wxPython Application</h3>
<span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><p class="line874">This is another area where TVTK scores over the standard VTK distribution. The canonical wxVTKRenderWindow widget was/is sporidically maintained (I guess because the main author now works at enthought!). For TVTK, you need to use Pyface (I'd like to see a more general description of what pyface is for) to provide a Scene object. e.g. <span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><p class="line867"><span class="anchor" id="line-128"></span><span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span><span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span><span class="anchor" id="line-138"></span><span class="anchor" id="line-139"></span><span class="anchor" id="line-140"></span><span class="anchor" id="line-141"></span><span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span><span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span><span class="anchor" id="line-146"></span><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-0be38ded384167f3881b58d5d187358bd92c9b8a_001\', 1, 1);" \
                class="codenumbers">行番号表示/非表示切替<\/a>');
</script>
<pre dir="ltr" id="CA-0be38ded384167f3881b58d5d187358bd92c9b8a_001" lang="en"><span class="line"><span class="LineNumber">   1 </span><span class="ResWord">import</span> <span class="ID">wx</span></span>
<span class="line"><span class="LineNumber">   2 </span><span class="ResWord">from</span> <span class="ID">enthought</span><span class="Operator">.</span><span class="ID">tvtk</span><span class="Operator">.</span><span class="ID">api</span> <span class="ResWord">import</span> <span class="ID">tvtk</span></span>
<span class="line"><span class="LineNumber">   3 </span><span class="ResWord">from</span> <span class="ID">enthought</span><span class="Operator">.</span><span class="ID">pyface</span><span class="Operator">.</span><span class="ID">tvtk</span><span class="Operator">.</span><span class="ID">api</span> <span class="ResWord">import</span> <span class="ID">Scene</span></span>
<span class="line"><span class="LineNumber">   4 </span></span>
<span class="line"><span class="LineNumber">   5 </span><span class="ID">app</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">App</span><span class="Operator">(</span><span class="Number">0</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   6 </span><span class="ID">frame</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">Frame</span><span class="Operator">(</span><span class="ID">None</span><span class="Operator">,</span> <span class="Operator">-</span><span class="Number">1</span><span class="Operator">,</span> <span class="String">"hello from TVTK"</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   7 </span><span class="ID">scene</span> <span class="Operator">=</span> <span class="ID">Scene</span><span class="Operator">(</span><span class="ID">frame</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   8 </span><span class="ID">sizer</span> <span class="Operator">=</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">BoxSizer</span><span class="Operator">(</span><span class="ID">wx</span><span class="Operator">.</span><span class="ID">VERTICAL</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">   9 </span><span class="ID">sizer</span><span class="Operator">.</span><span class="ID">Add</span><span class="Operator">(</span><span class="ID">scene</span><span class="Operator">.</span><span class="ID">control</span><span class="Operator">,</span> <span class="Number">1</span><span class="Operator">,</span> <span class="ID">wx</span><span class="Operator">.</span><span class="ID">EXPAND</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  10 </span><span class="ID">frame</span><span class="Operator">.</span><span class="ID">SetSizer</span><span class="Operator">(</span><span class="ID">sizer</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  11 </span></span>
<span class="line"><span class="LineNumber">  12 </span><span class="ID">cone</span> <span class="Operator">=</span> <span class="ID">tvtk</span><span class="Operator">.</span><span class="ID">ConeSource</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  13 </span><span class="ID">mapper</span> <span class="Operator">=</span> <span class="ID">tvtk</span><span class="Operator">.</span><span class="ID">PolyDataMapper</span><span class="Operator">(</span><span class="ID">input</span><span class="Operator">=</span><span class="ID">cone</span><span class="Operator">.</span><span class="ID">output</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  14 </span><span class="ID">actor</span> <span class="Operator">=</span> <span class="ID">tvtk</span><span class="Operator">.</span><span class="ID">Actor</span><span class="Operator">(</span><span class="ID">mapper</span><span class="Operator">=</span><span class="ID">mapper</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  15 </span><span class="ID">scene</span><span class="Operator">.</span><span class="ID">renderer</span><span class="Operator">,</span><span class="ID">add_actor</span><span class="Operator">(</span><span class="ID">actor</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  16 </span></span>
<span class="line"><span class="LineNumber">  17 </span><span class="ID">frame</span><span class="Operator">.</span><span class="ID">Show</span><span class="Operator">(</span><span class="Operator">)</span></span>
<span class="line"><span class="LineNumber">  18 </span><span class="ID">app</span><span class="Operator">.</span><span class="ID">MainLoop</span><span class="Operator">(</span><span class="Operator">)</span><span class="Text"></span></span>
</pre></div><span class="anchor" id="line-147"></span><span class="anchor" id="line-148"></span><p class="line862">Pyface also provides a <a class="nonexistent" href="/DecoratedScene">DecoratedScene</a> class which adds a nice toolbar for configuring the camera view, saving a snapshot (with magnification control! yeay!) and a full-screen mode. This is great. <span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span><p class="line874">Like other traited components based on wxPython widgets, you access the underlying widget via the .control trait, which returns the wxPython window, for inclusion in parent windows or sizers etc. <span class="anchor" id="line-151"></span><span class="anchor" id="line-152"></span><p class="line867">
<h2 id="head-a6ec340bd43c6e7af4d260bcfc225d3afda04ad7">The ETS API documentation</h2>
<span class="anchor" id="line-153"></span><p class="line874">The "traits-aware" API documentation generated by a tool called Endo is quite nice. Here's a few suggestions which would hugely increase it's utility (in a manner similar to d'oxygen): <span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span><p class="line874">1. For every class listed, provide a link one or more python examples where it is used <span class="anchor" id="line-156"></span><span class="anchor" id="line-157"></span><p class="line874">2. Provide links to subclasses, as well as the superclass. This would make it easier to track both down as well as up the class tree. NOTE: I just noticed the "Class Hierarchy" link at the top-right of the endo docs; this allows you to browse down the tree. <span class="anchor" id="line-158"></span><span class="anchor" id="bottom"></span></div>
<div id="pagebottom"></div>
</div>

<div id="footer">
<ul id="credits">
<li><a href="http://moinmoin.wikiwikiweb.de/">MoinMoin Powered</a></li><li><a href="http://www.python.org/">Python Powered</a></li><li><a href="http://validator.w3.org/check?uri=referer">Valid HTML 4.01</a></li>
</ul>


</div></body>
</html>

